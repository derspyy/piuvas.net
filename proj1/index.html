<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="utf-8">
    <title>$ piuvas_</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
        <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
    
    
<link rel="stylesheet" href="/blog.css">

<meta name="theme-color" content="#191724" />
<meta property="og:title" content="velvet" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https:&#x2F;&#x2F;piuvas.net&#x2F;proj1&#x2F;" />
<meta property="og:description" content="‚îî‚îÄ‚îÄ de 2022-12-16 ‚Ä¢ 4 min" />
<meta property="article:published_time" content="2022-12-16" />

    <meta property="og:site_name" content="$ piuvas_" />
</head>

<body>
    <section class="section">
        <div class="container">
            
<nav>
    user@piuvas.net
    <a href="/">~/blog</a> $ cat proj1.md
</nav>
<br>
<h1 class="title">
    velvet
</h1>
<p class="subtitle"><strong>2022-12-16</strong></p>
<br>
<hr>
<div class="post">
<p>Em dezembro do ano passado, em um hotel, eu tive uma ideia. Era um momento de relaxamento e calma: eram as f√©rias. Mesmo assim, essa ideia consumiu meus pensamentos e eu n√£o consegui esperar. Eu instalei o <a href="https://obsidian.md/">Obsidian</a> no celular para documentar o projeto do in√≠cio ao fim.</p>
<p>A ideia veio da dificuldade de administrar os diversos mods de Minecraft que s√£o comumente instalados para lidar com o desempenho do jogo. Quem jogou Minecraft moderno sabe que al√©m de instalar o Fabric, √© necess√°rio manter-se informado sobre o ecossistema de mods de otimiza√ß√£o do jogo, principalmente ap√≥s a queda do OptiFine. Para pessoas que querem apenas jogar o jogo, essa din√¢mica n√£o √© ideal. </p>
<p>O objetivo principal era instalar o Fabric e organizar os mods em pastas separadas pela vers√£o do jogo para que o usu√°rio possa, simultaneamente, manter diversas instala√ß√µes com suas respectivas pastas de mod.</p>
<p>No in√≠cio, eu n√£o tinha acesso ao computador e n√£o podia testar c√≥digo algum ou colocar meus pensamentos em pr√°tica. Uma consequ√™ncia interessante disso foi que pude conceitualizar o projeto inteiro antes de escrever o c√≥digo.</p>
<p>Eu sabia que queria os meus mods na estrutura <code>.minecraft/.woven/mods/&lt;vers√£o&gt;</code>. O nome do subdiret√≥rio <code>.woven</code> √© derivado de Fabric: um nome apropriado para o projeto.</p>
<p>O Fabric sempre l√™ os mods na pasta <code>.minecraft/mods</code>, ent√£o teria que ser modificado para lidar com a pasta de mods dinamicamente. Da√≠ veio a primeira dificuldade: programar em Java. Eu tenho pouca experi√™ncia com Java, mas como seria um pequeno <em>patch</em> no c√≥digo, eu pensei que seria simples o suficiente.</p>
<p>Meus tr√™s objetivos iniciais foram definidos: modificar o Fabric, instal√°-lo e baixar os mods.</p>
<p>Uma vantagem de dividir as etapas antes de come√ßar a programar √© que voc√™ fica preso √†s ideias originais e n√£o come√ßa a adicionar fun√ß√µes novas com o tempo.</p>
<h1 id="em-pratica"><a class="zola-anchor" href="#em-pratica" aria-label="Anchor link for: em-pratica">üîó</a>Em pr√°tica</h1>
<p>Eu comecei a programar o programa em Rust, essa escolha foi definida desde o in√≠cio do projeto. Modificar o Fabric seria simples. Em sua inicializa√ß√£o, ele j√° sabe a vers√£o na qual o jogo est√° rodando. O maior problema foi na instala√ß√£o.</p>
<p>O launcher do Minecraft trabalha com JSON. A biblioteca <a href="https://serde.rs/">serde</a> possui todas as ferramentas necess√°rias para lidar com as principais estruturas de dados. Por√©m, eu senti medo porque todos os exemplos da biblioteca tinham muitas coisas que eu ainda n√£o havia aprendido. Por causa disso, eu deixei o projeto de lado.</p>
<p>Em novembro, pouco mais de nove meses depois, eu lembrei do projeto e continuei de onde tinha parado. Por√©m, pelo intervalo de tempo, algumas coisas mudaram.</p>
<p>Primeiro, um <em>fork</em> do Fabric, <a href="https://quiltmc.org">Quilt</a>, implementou a fun√ß√£o a passar uma pasta de mods din√¢mica usando apenas op√ß√µes da JVM. Por causa disso, eu optei pelo Quilt porque, ent√£o, n√£o precisaria manter minha pr√≥pria modifica√ß√£o do Fabric e um Maven para distribui√ß√£o.</p>
<p>Segundo, eu descobri um projeto com o nome &quot;<a href="https://github.com/WovenMC">WovenMC</a>&quot; e decidi mudar para &quot;Velvet&quot;.</p>
<p>Por fim, eu escrevi toda a instala√ß√£o do Quilt e usei a biblioteca <a href="https://crates.io/crates/ferinth">ferinth</a> para comunicar com o API do Modrinth, uma plataforma de mods que amadureceu durante o ano, e instalar os mods.</p>
<h1 id="conclusao"><a class="zola-anchor" href="#conclusao" aria-label="Anchor link for: conclusao">üîó</a>Conclus√£o</h1>
<p>√â interessante pensar que eu demorei quase um ano para trazer uma pequena ideia √† vida. √Äs vezes, abandonamos projetos porque nos vemos longe demais de conclu√≠-los.</p>
<p>Meu principal relato √© que o sentimento de retomar um projeto com conhecimento e energia suficiente para termin√°-lo √© muito gratificante.</p>
<p>Por causa disso, documentar o processo √© uma etapa importante. A principal vantagem dessa experi√™ncia foi manter comigo minhas anota√ß√µes do in√≠cio at√© o final.</p>
<p>O c√≥digo do projeto est√° dispon√≠vel <a href="https://github.com/derspyy/velvet">aqui</a>.</p>

</div>
<hr>
<br>
<a href="/">< cd /</a>
<a href="/rss.xml"><img class="rss" src="/img/rss.svg" alt="Feed RSS" /></a>

        </div>
    </section>
</body>
</html>
